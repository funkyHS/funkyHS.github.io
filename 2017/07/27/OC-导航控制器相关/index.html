<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>OC-导航控制器相关 | Funky、</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="Welcome to Funky‘s zone. About me,so simple,Keep on coding,Keep on dancing. If you like something,stick to do！">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="OC-导航控制器相关 | Funky、">
    <meta name="twitter:description" content="Welcome to Funky‘s zone. About me,so simple,Keep on coding,Keep on dancing. If you like something,stick to do！">

    <meta property="og:type" content="article">
    <meta property="og:title" content="OC-导航控制器相关 | Funky、">
    <meta property="og:description" content="Welcome to Funky‘s zone. About me,so simple,Keep on coding,Keep on dancing. If you like something,stick to do！">

    
    <meta name="author" content="Husheng">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/avatar.jpg">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="Funky、" href="/atom.xml">
    

    <link rel="canonical" href="https://funkyhs.github.io/2017/07/27/OC-导航控制器相关/"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Funky、 的主页"><img src="/images/avatar.jpg" width="80" alt="Funky、 logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Funky、">Funky、</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">Insist, Hard, Success</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">Welcome to Funky‘s zone. About me,so simple,Keep on coding,Keep on dancing. If you like something,stick to do！</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
            
              <li class="navigation__item"><a href="/tags/knowledge">关于技术</a></li>
            
              <li class="navigation__item"><a href="/tags/life">关于生活</a></li>
            
              <li class="navigation__item"><a href="/aboutme">关于我</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  
  <li class="navigation__item">
    <a href="http://weibo.com/3202571510/" title="我的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li> 


  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/funkyHS" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-purple"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-07-27T14:06:32.000Z" class="post-list__meta--date date">2017-07-27</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/knowledge/">knowledge</a>
 </span>
      <span class="page-pv">
      &nbsp;阅读&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">OC-导航控制器相关</h1>
  </header>

  <section class="post">
    <p>[TOC]</p>
<h2 id="1-整体概念"><a href="#1-整体概念" class="headerlink" title="1. 整体概念"></a>1. 整体概念</h2><p><img src="http://or6lf2z6x.bkt.clouddn.com/Snip20170727_6.png" alt="整体概念"></p>
<ul>
<li><strong>解释：</strong><ul>
<li>UINavigationController是容器类的视图控制器，是UIViewController的子类，它以栈的形式管理一组视图控制器<code>ViewController</code>，位于栈底的视图是导航控制器的根视图<code>rootViewController</code></li>
<li>每一个导航控制器都包含一个UINavigationBar导航栏，UINavigationBar是UIView的子类，UINavgationBar也可以单独使用，添加至任何的UIView中。在平时的应用程序中，我们常使用自定义UINavigationBar来完成导航条的设置；</li>
<li>UINavigationController为每个UIViewController生成一个UINavigationItem，通过UINavigationItem可以改变导航栏（UINavigationBar）上得按钮和标题，UINavigationItem是显示在UINavigationBar上的，UINavigationBar管理着UINavigationItem；</li>
<li>UINavigationItem上的按钮，又是由UIBarButtonItem初始化创建的；</li>
<li>每一个加到navigationController的viewController都会有一个对应的navigationItem，NavigationBar上的leftItem,rightItem,title是由当前的视图控制器的navigationItem控制的</li>
<li>UINavigationController会为每一个入栈的UIViewController生成一个UINavigationItem. UIViewController通过修改UINavigationItem可以控制UINavigationBar上的按钮和标题等</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2-API注释"><a href="#2-API注释" class="headerlink" title="2. API注释"></a>2. API注释</h2><h3 id="2-1-UINavigationController"><a href="#2-1-UINavigationController" class="headerlink" title="2.1. UINavigationController"></a>2.1. UINavigationController</h3><pre><code>NS_CLASS_AVAILABLE_IOS(2_0) @interface UINavigationController : UIViewController


// UINavigationController初始化,自定义NavigationBar,自定义toolbar
- (instancetype)initWithNavigationBarClass:(nullable Class)navigationBarClass toolbarClass:(nullable Class)toolbarClass NS_AVAILABLE_IOS(5_0);

// 以一个viewController为栈底(导航控制器的根控制器)，实例化一个navigationController
- (instancetype)initWithRootViewController:(UIViewController *)rootViewController;

// 压栈：将目标控制器压入栈中
- (void)pushViewController:(UIViewController *)viewController animated:(BOOL)animated;

// 出栈：栈顶控制器出栈
- (nullable UIViewController *)popViewControllerAnimated:(BOOL)animated;

// 出栈：pop到指定的目标控制器
- (nullable NSArray&lt;__kindof UIViewController *&gt; *)popToViewController:(UIViewController *)viewController animated:(BOOL)animated;

// 出栈：pop到根控制器
- (nullable NSArray&lt;__kindof UIViewController *&gt; *)popToRootViewControllerAnimated:(BOOL)animated;

// 导航栈的栈顶控制器只读 
@property(nullable, nonatomic,readonly,strong) UIViewController *topViewController;

// 当前显示的控制器 只读 visibleViewController和哪个导航栈没有关系，只是当前显示的控制器，任意一个导航的visibleViewController所返回的值应该是一样的,(如果模态viewcontroller存在，返回模态viewcontroller，否则栈顶viewcontroller)
@property(nullable, nonatomic,readonly,strong) UIViewController *visibleViewController;

// 栈里的视图控制器数组
@property(nonatomic,copy) NSArray&lt;__kindof UIViewController *&gt; *viewControllers;

// 替换栈中的视图控制器数组,animated＝YES，根据当前的栈顶viewcontroller在不在这个viewcontroller数组中，模拟一次push和pop的动画。相当于对当前的栈进行了一次整体的刷新
- (void)setViewControllers:(NSArray&lt;UIViewController *&gt; *)viewControllers animated:(BOOL)animated NS_AVAILABLE_IOS(3_0);

// 是否隐藏导航栏
@property(nonatomic,getter=isNavigationBarHidden) BOOL navigationBarHidden;

// 设置导航栏隐藏 是否有动画
- (void)setNavigationBarHidden:(BOOL)hidden animated:(BOOL)animated;

// 导航栏
@property(nonatomic,readonly) UINavigationBar *navigationBar;

// toolbar是否隐藏
@property(nonatomic,getter=isToolbarHidden) BOOL toolbarHidden NS_AVAILABLE_IOS(3_0) __TVOS_PROHIBITED;

// toolbar是否隐藏 是否有动画
- (void)setToolbarHidden:(BOOL)hidden animated:(BOOL)animated NS_AVAILABLE_IOS(3_0) __TVOS_PROHIBITED;

// toolbar对象
@property(null_resettable,nonatomic,readonly) UIToolbar *toolbar NS_AVAILABLE_IOS(3_0) __TVOS_PROHIBITED;

// 委托,可以在压栈出栈操作中，设置一些动画，以及一些额外的操作
@property(nullable, nonatomic, weak) id&lt;UINavigationControllerDelegate&gt; delegate;

// 边缘侧滑返回手势
@property(nullable, nonatomic, readonly) UIGestureRecognizer *interactivePopGestureRecognizer NS_AVAILABLE_IOS(7_0) __TVOS_PROHIBITED;

// 展示视图控制器
- (void)showViewController:(UIViewController *)vc sender:(nullable id)sender NS_AVAILABLE_IOS(8_0); // Interpreted as pushViewController:animated:

// 输入键盘出现时将导航栏隐藏 IOS8特性
@property (nonatomic, readwrite, assign) BOOL hidesBarsWhenKeyboardAppears NS_AVAILABLE_IOS(8_0) __TVOS_PROHIBITED;

// 滚动页面时隐藏Bar  IOS8特性
@property (nonatomic, readwrite, assign) BOOL hidesBarsOnSwipe NS_AVAILABLE_IOS(8_0) __TVOS_PROHIBITED;

// 获取能够隐藏navigationBar的滑动手势 只读
@property (nonatomic, readonly, strong) UIPanGestureRecognizer *barHideOnSwipeGestureRecognizer NS_AVAILABLE_IOS(8_0) __TVOS_PROHIBITED;

// 当设置为true时，横向方向时隐藏NavigationBar
@property (nonatomic, readwrite, assign) BOOL hidesBarsWhenVerticallyCompact NS_AVAILABLE_IOS(8_0) __TVOS_PROHIBITED;

// 当设置为true时，如果有没处理的点击手势就会隐藏navigationBar
@property (nonatomic, readwrite, assign) BOOL hidesBarsOnTap NS_AVAILABLE_IOS(8_0) __TVOS_PROHIBITED;

// 获取能够隐藏navigationBar的点击手势 只读
@property (nonatomic, readonly, assign) UITapGestureRecognizer *barHideOnTapGestureRecognizer NS_AVAILABLE_IOS(8_0) __TVOS_PROHIBITED;

@end
</code></pre><h3 id="2-2-UINavigationControllerDelegate"><a href="#2-2-UINavigationControllerDelegate" class="headerlink" title="2.2. UINavigationControllerDelegate"></a>2.2. UINavigationControllerDelegate</h3><pre><code>@protocol UINavigationControllerDelegate &lt;NSObject&gt;

@optional

// 将要显示目标控制器
- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated;

// 目标控制器最终显示
- (void)navigationController:(UINavigationController *)navigationController didShowViewController:(UIViewController *)viewController animated:(BOOL)animated;

// 横竖屏切换
- (UIInterfaceOrientationMask)navigationControllerSupportedInterfaceOrientations:(UINavigationController *)navigationController NS_AVAILABLE_IOS(7_0) __TVOS_PROHIBITED;

// 横竖屏切换
- (UIInterfaceOrientation)navigationControllerPreferredInterfaceOrientationForPresentation:(UINavigationController *)navigationController NS_AVAILABLE_IOS(7_0) __TVOS_PROHIBITED;

// 转场动画
- (nullable id &lt;UIViewControllerInteractiveTransitioning&gt;)navigationController:(UINavigationController *)navigationController
interactionControllerForAnimationController:(id &lt;UIViewControllerAnimatedTransitioning&gt;) animationController NS_AVAILABLE_IOS(7_0);

// 转场动画
- (nullable id &lt;UIViewControllerAnimatedTransitioning&gt;)navigationController:(UINavigationController *)navigationController
animationControllerForOperation:(UINavigationControllerOperation)operation
fromViewController:(UIViewController *)fromVC
toViewController:(UIViewController *)toVC  NS_AVAILABLE_IOS(7_0);

@end
</code></pre><h3 id="2-3-UIViewController-UINavigationControllerItem-分类"><a href="#2-3-UIViewController-UINavigationControllerItem-分类" class="headerlink" title="2.3. UIViewController (UINavigationControllerItem)分类"></a>2.3. UIViewController (UINavigationControllerItem)分类</h3><pre><code>@interface UIViewController (UINavigationControllerItem)

// NavigationBar上的自定义视图（title／titleView等）
@property(nonatomic,readonly,strong) UINavigationItem *navigationItem; 

// push时是否隐藏bottomBar
@property(nonatomic) BOOL hidesBottomBarWhenPushed __TVOS_PROHIBITED; 

// 视图的导航控制器
@property(nullable, nonatomic,readonly,strong) UINavigationController *navigationController; 

@end
</code></pre><h3 id="2-4-UIViewController-UINavigationControllerContextualToolbarItems-分类"><a href="#2-4-UIViewController-UINavigationControllerContextualToolbarItems-分类" class="headerlink" title="2.4. UIViewController (UINavigationControllerContextualToolbarItems)分类"></a>2.4. UIViewController (UINavigationControllerContextualToolbarItems)分类</h3><pre><code>@interface UIViewController (UINavigationControllerContextualToolbarItems)

// 设置工具条中包含的按钮
@property (nullable, nonatomic, strong) NSArray&lt;__kindof UIBarButtonItem *&gt; *toolbarItems NS_AVAILABLE_IOS(3_0) __TVOS_PROHIBITED;
- (void)setToolbarItems:(nullable NSArray&lt;UIBarButtonItem *&gt; *)toolbarItems animated:(BOOL)animated NS_AVAILABLE_IOS(3_0) __TVOS_PROHIBITED;

@end
</code></pre><h3 id="2-5-UINavigationBar"><a href="#2-5-UINavigationBar" class="headerlink" title="2.5. UINavigationBar"></a>2.5. UINavigationBar</h3><pre><code>NS_CLASS_AVAILABLE_IOS(2_0) @interface UINavigationBar : UIView &lt;NSCoding, UIBarPositioning&gt; 

// 设置导航条类型
/*
UIBarStyleDefault  白色半透明，默认，不设置时默认为白色半透明
UIBarStyleBlack    灰色半透明
*/
@property(nonatomic,assign) UIBarStyle barStyle;

@property(nullable,nonatomic,weak) id&lt;UINavigationBarDelegate&gt; delegate;

// translucent设置是否透明,设置成YES会有一种模糊效果，Default is NO on iOS 6 and earlier. Always YES if barStyle is set to UIBarStyleBlackTranslucent
@property(nonatomic,assign,getter=isTranslucent) BOOL translucent NS_AVAILABLE_IOS(3_0) UI_APPEARANCE_SELECTOR; 

//UINavigationBar上面不只是简单的显示标题，它也将标题进行了堆栈的管理，每一个标题抽象为的对象在iOS系统中是UINavigationItem对象，我们可以通过push与pop操作管理item组。
//向栈中添加一个item，上一个item会被推向导航栏的左侧，变为pop按钮，会有一个动画效果
- (void)pushNavigationItem:(UINavigationItem *)item animated:(BOOL)animated;

//pop一个item
- (nullable UINavigationItem *)popNavigationItemAnimated:(BOOL)animated; 

//当前push到最上层的item
@property(nullable, nonatomic,readonly,strong) UINavigationItem *topItem;

//仅次于最上层的item，一般式被推向导航栏左侧的item
@property(nullable, nonatomic,readonly,strong) UINavigationItem *backItem;

//获取堆栈中所有item的数组
@property(nullable,nonatomic,copy) NSArray&lt;UINavigationItem *&gt; *items;

//设置一组item
- (void)setItems:(nullable NSArray&lt;UINavigationItem *&gt; *)items animated:(BOOL)animated; 

//系统类型按钮文字颜色
@property(null_resettable, nonatomic,strong) UIColor *tintColor;

//通过barTintColor来设置背景色
@property(nullable, nonatomic,strong) UIColor *barTintColor NS_AVAILABLE_IOS(7_0) UI_APPEARANCE_SELECTOR;  

//设置工具栏背景和阴影图案
- (void)setBackgroundImage:(nullable UIImage *)backgroundImage forBarPosition:(UIBarPosition)barPosition barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(7_0) UI_APPEARANCE_SELECTOR;
- (nullable UIImage *)backgroundImageForBarPosition:(UIBarPosition)barPosition barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(7_0) UI_APPEARANCE_SELECTOR;

//通过背景图片来设置导航栏的外观
- (void)setBackgroundImage:(nullable UIImage *)backgroundImage forBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

- (nullable UIImage *)backgroundImageForBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

//背景阴影图片 - 即分割线
@property(nullable, nonatomic,strong) UIImage *shadowImage NS_AVAILABLE_IOS(6_0) UI_APPEARANCE_SELECTOR;

//标题的富文本
@property(nullable,nonatomic,copy) NSDictionary&lt;NSString *,id&gt; *titleTextAttributes NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

//标题垂直偏移
- (void)setTitleVerticalPositionAdjustment:(CGFloat)adjustment forBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

- (CGFloat)titleVerticalPositionAdjustmentForBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

//设置返回按钮的图片
@property(nullable,nonatomic,strong) UIImage *backIndicatorImage NS_AVAILABLE_IOS(7_0) UI_APPEARANCE_SELECTOR;
@property(nullable,nonatomic,strong) UIImage *backIndicatorTransitionMaskImage NS_AVAILABLE_IOS(7_0) UI_APPEARANCE_SELECTOR;

@end
</code></pre><h3 id="2-6-UINavigationItem"><a href="#2-6-UINavigationItem" class="headerlink" title="2.6. UINavigationItem"></a>2.6. UINavigationItem</h3><pre><code>NS_CLASS_AVAILABLE_IOS(2_0) @interface UINavigationItem : NSObject &lt;NSCoding&gt;

- (instancetype)initWithTitle:(NSString *)title NS_DESIGNATED_INITIALIZER;

- (nullable instancetype)initWithCoder:(NSCoder *)coder NS_DESIGNATED_INITIALIZER;

//设置导航栏中间的内容标题
@property(nullable, nonatomic,copy)   NSString *title;   

//设置导航栏中间的内容视图    
@property(nullable, nonatomic,strong) UIView *titleView;        

@property(nullable,nonatomic,copy)   NSString *prompt;    

//返回
@property(nullable,nonatomic,strong) UIBarButtonItem *backBarButtonItem; 

//是否隐藏返回Button
@property(nonatomic,assign) BOOL hidesBackButton;

- (void)setHidesBackButton:(BOOL)hidesBackButton animated:(BOOL)animated;

//左边数组Item
@property(nullable,nonatomic,copy) NSArray&lt;UIBarButtonItem *&gt; *leftBarButtonItems NS_AVAILABLE_IOS(5_0);

//右边数组Item
@property(nullable,nonatomic,copy) NSArray&lt;UIBarButtonItem *&gt; *rightBarButtonItems NS_AVAILABLE_IOS(5_0);

- (void)setLeftBarButtonItems:(nullable NSArray&lt;UIBarButtonItem *&gt; *)items animated:(BOOL)animated NS_AVAILABLE_IOS(5_0);

- (void)setRightBarButtonItems:(nullable NSArray&lt;UIBarButtonItem *&gt; *)items animated:(BOOL)animated NS_AVAILABLE_IOS(5_0);

//通过指定该属性为YES，可以让leftBarButtonItem和backBarButtonItem同时显示，其中leftBarButtonItem显示在backBarButtonItem的右边 默认值为NO
@property(nonatomic) BOOL leftItemsSupplementBackButton NS_AVAILABLE_IOS(5_0);

//左边Item
@property(nullable, nonatomic,strong) UIBarButtonItem *leftBarButtonItem;

//右边Item
@property(nullable, nonatomic,strong) UIBarButtonItem *rightBarButtonItem;

- (void)setLeftBarButtonItem:(nullable UIBarButtonItem *)item animated:(BOOL)animated;

- (void)setRightBarButtonItem:(nullable UIBarButtonItem *)item animated:(BOOL)animated;

@end
</code></pre><h3 id="2-7-UIBarButtonItem"><a href="#2-7-UIBarButtonItem" class="headerlink" title="2.7. UIBarButtonItem"></a>2.7. UIBarButtonItem</h3><pre><code>NS_CLASS_AVAILABLE_IOS(2_0) @interface UIBarButtonItem : UIBarItem &lt;NSCoding&gt;

- (instancetype)init NS_DESIGNATED_INITIALIZER;
//初始化
- (nullable instancetype)initWithCoder:(NSCoder *)aDecoder NS_DESIGNATED_INITIALIZER;
- (instancetype)initWithImage:(nullable UIImage *)image style:(UIBarButtonItemStyle)style target:(nullable id)target action:(nullable SEL)action;
- (instancetype)initWithImage:(nullable UIImage *)image landscapeImagePhone:(nullable UIImage *)landscapeImagePhone style:(UIBarButtonItemStyle)style target:(nullable id)target action:(nullable SEL)action NS_AVAILABLE_IOS(5_0); 
- (instancetype)initWithTitle:(nullable NSString *)title style:(UIBarButtonItemStyle)style target:(nullable id)target action:(nullable SEL)action;
- (instancetype)initWithBarButtonSystemItem:(UIBarButtonSystemItem)systemItem target:(nullable id)target action:(nullable SEL)action;
//自定义视图
- (instancetype)initWithCustomView:(UIView *)customView;

//样式
@property(nonatomic)         UIBarButtonItemStyle style;            // default is UIBarButtonItemStylePlain
@property(nonatomic)         CGFloat              width;           
@property(nullable, nonatomic,copy)    NSSet&lt;NSString *&gt;   *possibleTitles;   // default is nil

//自定义视图
@property(nullable, nonatomic,strong)  __kindof UIView     *customView;       
@property(nullable, nonatomic)         SEL                  action;           // default is NULL
@property(nullable, nonatomic,weak)    id                   target;           // default is nil

- (void)setBackgroundImage:(nullable UIImage *)backgroundImage forState:(UIControlState)state barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;
- (nullable UIImage *)backgroundImageForState:(UIControlState)state barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;


- (void)setBackgroundImage:(nullable UIImage *)backgroundImage forState:(UIControlState)state style:(UIBarButtonItemStyle)style barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(6_0) UI_APPEARANCE_SELECTOR;
- (nullable UIImage *)backgroundImageForState:(UIControlState)state style:(UIBarButtonItemStyle)style barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(6_0) UI_APPEARANCE_SELECTOR;

@property(nullable, nonatomic,strong) UIColor *tintColor NS_AVAILABLE_IOS(5_0);


- (void)setBackgroundVerticalPositionAdjustment:(CGFloat)adjustment forBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR; 
- (CGFloat)backgroundVerticalPositionAdjustmentForBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;


- (void)setTitlePositionAdjustment:(UIOffset)adjustment forBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR; 
- (UIOffset)titlePositionAdjustmentForBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

- (void)setBackButtonBackgroundImage:(nullable UIImage *)backgroundImage forState:(UIControlState)state barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;
- (nullable UIImage *)backButtonBackgroundImageForState:(UIControlState)state barMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

- (void)setBackButtonTitlePositionAdjustment:(UIOffset)adjustment forBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;
- (UIOffset)backButtonTitlePositionAdjustmentForBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;


- (void)setBackButtonBackgroundVerticalPositionAdjustment:(CGFloat)adjustment forBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;
- (CGFloat)backButtonBackgroundVerticalPositionAdjustmentForBarMetrics:(UIBarMetrics)barMetrics NS_AVAILABLE_IOS(5_0) UI_APPEARANCE_SELECTOR;

@end




typedef NS_ENUM(NSInteger, UIBarButtonSystemItem) {
    UIBarButtonSystemItemDone,//显示完成
    UIBarButtonSystemItemCancel,//显示取消
    UIBarButtonSystemItemEdit,  //显示编辑
    UIBarButtonSystemItemSave, //显示保存 
    UIBarButtonSystemItemAdd,//显示加号
    UIBarButtonSystemItemFlexibleSpace,//什么都不显示，占位一个空间位置
    UIBarButtonSystemItemFixedSpace,//和上一个类似
    UIBarButtonSystemItemCompose,//显示写入按钮
    UIBarButtonSystemItemReply,//显示循环按钮
    UIBarButtonSystemItemAction,//显示活动按钮
    UIBarButtonSystemItemOrganize,//显示组合按钮
    UIBarButtonSystemItemBookmarks,//显示图书按钮
    UIBarButtonSystemItemSearch,//显示查找按钮
    UIBarButtonSystemItemRefresh,//显示刷新按钮
    UIBarButtonSystemItemStop,//显示停止按钮
    UIBarButtonSystemItemCamera,//显示相机按钮
    UIBarButtonSystemItemTrash,//显示移除按钮
    UIBarButtonSystemItemPlay,//显示播放按钮
    UIBarButtonSystemItemPause,//显示暂停按钮
    UIBarButtonSystemItemRewind,//显示退后按钮
    UIBarButtonSystemItemFastForward,//显示前进按钮
    UIBarButtonSystemItemUndo,//显示消除按钮
    UIBarButtonSystemItemRedo ,//显示重做按钮
    UIBarButtonSystemItemPageCurl ,//在tool上有效
};
</code></pre><hr>
<h2 id="3-具体功能效果的实现"><a href="#3-具体功能效果的实现" class="headerlink" title="3. 具体功能效果的实现"></a>3. 具体功能效果的实现</h2><h3 id="3-1-系统导航条默认样式"><a href="#3-1-系统导航条默认样式" class="headerlink" title="3.1 系统导航条默认样式"></a>3.1 系统导航条默认样式</h3><p><strong>AppDelegate.m</strong></p>
<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    self.window = [[UIWindow alloc]initWithFrame:[UIScreen mainScreen].bounds];
    self.window.backgroundColor = [UIColor redColor];

    ViewController *vc = [[ViewController alloc]init];
    UINavigationController *nav = [[UINavigationController alloc]initWithRootViewController:vc];
    self.window.rootViewController = nav;
    [self.window makeKeyAndVisible];
    return YES;
}
</code></pre><p><strong>ViewController.m</strong></p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];

    self.title = @&quot;Funky&quot;;
    self.view.backgroundColor = [UIColor greenColor];
}
</code></pre><p>样式如下图所示：</p>
<p><img src="http://or6lf2z6x.bkt.clouddn.com/Snip20170726_2.png" alt="默认样式"></p>
<h3 id="3-2-状态栏前景和背景色的设置"><a href="#3-2-状态栏前景和背景色的设置" class="headerlink" title="3.2 状态栏前景和背景色的设置"></a>3.2 状态栏前景和背景色的设置</h3><ul>
<li><strong>3.2.1 设置状态栏的前景部分（信号 &amp; 时间 &amp; 电池…的颜色）</strong></li>
</ul>
<p>只能设置两种颜色，默认的是黑色（UIStatusBarStyleDefault）， 白色（UIStatusBarStyleLightContent）</p>
<p><img src="http://or6lf2z6x.bkt.clouddn.com/Snip20170726_4.png" alt="白色状态栏"></p>
<ul>
<li>设置启动页状态条的前景颜色</li>
</ul>
<p><img src="http://or6lf2z6x.bkt.clouddn.com/Snip20170727_9.png" alt="启动页状态条的前景颜色"></p>
<ul>
<li>设置启动后的导航条前景颜色</li>
</ul>
<p><strong>方法一：</strong><br>1.在Info.plist中将 View controller-based status bar appearance 设置为 NO<br><img src="http://or6lf2z6x.bkt.clouddn.com/Snip20170726_3.png" alt="设置为 NO"></p>
<p>2.在ViewController.m*中 添加如下代码 </p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];

    self.title = @&quot;Funky&quot;;
    self.view.backgroundColor = [UIColor greenColor];

    // 将状态栏的前景部分设置为白色
    [UIApplication sharedApplication].statusBarStyle = UIStatusBarStyleLightContent;
}
</code></pre><p><strong>方法二：(隐藏导航条)</strong><br>1.在Info.plist中将 View controller-based status bar appearance 设置为 YES<br>2.在<strong>ViewController.m</strong> 中 添加如下代码 </p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];

    self.title = @&quot;Funky&quot;;
    self.view.backgroundColor = [UIColor greenColor];

    // 隐藏导航条 preferredStatusBarStyle 才能被调用
    self.navigationController.navigationBarHidden=YES;

}
-(UIStatusBarStyle)preferredStatusBarStyle {
    return UIStatusBarStyleLightContent;
}
</code></pre><p><strong>方法三：(不隐藏导航条)</strong><br>1.在Info.plist中将 View controller-based status bar appearance 设置为 YES<br>2.在<strong>ViewController.m</strong> 中 添加如下代码 </p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];

    self.title = @&quot;Funky&quot;;
    self.view.backgroundColor = [UIColor greenColor];    
}
-(UIStatusBarStyle)preferredStatusBarStyle {
    return UIStatusBarStyleLightContent;
}
</code></pre><p>3.在自定义的导航控制器.m文件中添加如下的代码</p>
<pre><code>- (UIViewController *)childViewControllerForStatusBarStyle{
    return self.topViewController;
}
</code></pre><ul>
<li><strong>3.2.2 设置状态栏的背景颜色</strong></li>
</ul>
<p><strong>方法一：</strong><br>通过UINavigationBar 的属性直接更改navBar的颜色，从而改变状态栏的背景颜色</p>
<pre><code>self.navigationController.navigationBar.barTintColor = [UIColor blueColor];
</code></pre><p><strong>方法二：</strong><br>调用自定义方法 [self setStatusBarBackgroundColor:[UIColor blueColor]];</p>
<pre><code>//设置状态栏颜色
- (void)setStatusBarBackgroundColor:(UIColor *)color {

    UIView *statusBar = [[[UIApplication sharedApplication] valueForKey:@&quot;statusBarWindow&quot;] valueForKey:@&quot;statusBar&quot;];
    if ([statusBar respondsToSelector:@selector(setBackgroundColor:)]) {
        statusBar.backgroundColor = color;
    }
}
</code></pre><p><strong>方法三：</strong><br>由于状态栏区域上的控件是隐藏的,只要在状态栏区域渲染了颜色,状态栏的背景颜色就跟着一起改变,从而改变状态栏的背景颜色</p>
<pre><code>UIView *statusBarView = [[UIView alloc]   initWithFrame:CGRectMake(0, -20, self.view.bounds.size.width, 20)];
statusBarView.backgroundColor = [UIColor blueColor];
[self.navigationController.navigationBar addSubview:statusBarView];
</code></pre><h3 id="3-3-导航栏UINavigationBar属性设置"><a href="#3-3-导航栏UINavigationBar属性设置" class="headerlink" title="3.3 导航栏UINavigationBar属性设置"></a>3.3 导航栏UINavigationBar属性设置</h3><ul>
<li><strong>3.3.1 在AppDelegate中设置导航栏主题 </strong></li>
</ul>
<pre><code>// appearance 用于对没有创建的控件进行统一设置，无法对已经创建的控件进行设置
- (void)setNavigationControllerAppearance {

    // barTintColor:设置导航栏的整体背景颜色，包括状态栏的背景颜色
    [[UINavigationBar appearance]setBarTintColor:[UIColor yellowColor]];


    // tintColor:设置导航栏的按钮的图标和文字颜色（系统提供的），自定义的不在此范围
    [[UINavigationBar appearance] setTintColor:[UIColor blueColor]];


    // 设置导航条类型
    /*
    UIBarStyleDefault  白色半透明，默认的
    UIBarStyleBlack    灰色半透明，会影响状态栏的颜色以及导航栏的标题颜色。但是已经对标题的字体颜色都已经赋值的，就不受影响了
    */
    [UINavigationBar appearance].barStyle  = UIBarStyleBlack;



    //titleTextAttributes:设置导航栏的标题的显示样式，包括UITextAttributeFont - 字体 UITextAttributeTextColor - 文字颜色  UITextAttributeTextShadowColor - 文字阴影颜色    UITextAttributeTextShadowOffset - 偏移用于文本阴影
    //[UINavigationBar appearance].titleTextAttributes = @{NSFontAttributeName:[UIFont boldSystemFontOfSize:20], NSForegroundColorAttributeName:[UIColor yellowColor]};
    [[UINavigationBar appearance]setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor redColor], NSForegroundColorAttributeName,[UIFont systemFontOfSize:18.f], NSFontAttributeName,nil]];



    //backgroundImage／shadowImage:设置导航栏的背景和阴影图片
    [[UINavigationBar appearance]setBackgroundImage:[UIImage imageNamed:@&quot;navbg2.png&quot;] forBarMetrics:UIBarMetricsDefault];
    [[UINavigationBar appearance]setShadowImage:[UIImage imageNamed:@&quot;navbg.png&quot;]];



    // translucent：BOOL，半透明效果
    [UINavigationBar appearance].translucent = NO;    

}
</code></pre><ul>
<li><strong>3.3.2 在ViewController中设置导航栏主题 </strong></li>
</ul>
<pre><code>-(void)setupNavigationBarStyle {

    // 设置导航条类型  灰色半透明(UIBarStyleBlack),可以使title，及状态栏的前景色变成白色
    self.navigationController.navigationBar.barStyle = UIBarStyleBlack;


    // 设置按钮文字颜色,默认为蓝色,在 iOS6 中是设置背景颜色
    self.navigationController.navigationBar.tintColor = [UIColor redColor];


    // 设置导航条背景颜色,默认为白色半透明
    self.navigationController.navigationBar.barTintColor = [UIColor greenColor];


    // 设置导航条的背景图片,如果图片的高正好是 44，图片与整个导航的高重合，这时候最上面 20 的状态条回到 iOS6 以前的效果变成黑色的;如果图片的高不是 44，哪怕比 44 多一个像素 45，这时候图片往上拉伸，占据状态栏的 20，这时整个高度为 64。
    [self.navigationController.navigationBar setBackgroundImage:[UIImage imageNamed:@&quot;navbg2&quot;] forBarMetrics:UIBarMetricsDefault];


    // 设置导航条是否半透明
    self.navigationController.navigationBar.translucent = NO;
    [[[self.navigationController.navigationBar subviews] objectAtIndex:0] setAlpha:1];


    // 设置是否隐藏导航视图控制器
    self.navigationController.navigationBarHidden = NO;

}
</code></pre><h3 id="3-4-UINavigationItem（导航栏上的按钮等）的设置及使用"><a href="#3-4-UINavigationItem（导航栏上的按钮等）的设置及使用" class="headerlink" title="3.4 UINavigationItem（导航栏上的按钮等）的设置及使用"></a>3.4 UINavigationItem（导航栏上的按钮等）的设置及使用</h3><pre><code>-(void)setupNavigationItemStyle {

    // 设置导航栏提示内容,该模式将高度扩展了 30 像素(很少用)
    self.navigationItem.prompt = @&quot;提示内容&quot;;


    // 设置导航栏标题
    self.navigationItem.title = @&quot;Funky&quot;;


    // 设置自定义标题视图 x，y，width 设置无效
    //self.navigationItem.titleView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@&quot;navbg2.png&quot;]];
    UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 0, 34)];
    imageView.image = [UIImage imageNamed:@&quot;navbg2&quot;];
    self.navigationItem.titleView = imageView;


    // 设置导航栏按钮
    self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithTitle:@&quot;返回&quot;  style:UIBarButtonItemStylePlain target:self action:@selector(leftButtonClick)];


    // 通过系统编辑按钮设置(系统自带的导航专用编辑按钮，点击后变为 Done，再次点击变回 Edit，自带点击响应事件)
    self.navigationItem.rightBarButtonItem = self.editButtonItem;

    self.navigationItem.rightBarButtonItem =[[UIBarButtonItem alloc]initWithBarButtonSystemItem: UIBarButtonSystemItemCamera target: self action: @selector(rightButtonClick)];


    // 通过图片设置,处理阴影，如果直接设置 image 出现阴影，这时候需要设置图片渲染方式 UIImageRenderingModeAlwaysOriginal
    UIImage *image = [[UIImage imageNamed:@&quot;carquery.png&quot;]
    imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];
    self.navigationItem.rightBarButtonItem = [[UIBarButtonItem alloc] initWithImage: image style: UIBarButtonItemStylePlain target: self action: @selector(rightButtonClick)];


    // 通过自定义视图设置,前两个坐标设置无效，图片会自动压缩
    UIButton *myView = [UIButton buttonWithType:UIButtonTypeCustom];
    myView.frame = CGRectMake(0, 0, 10, 20);
    [myView setBackgroundImage:[UIImage imageNamed:@&quot;Return&quot;] forState:UIControlStateNormal];
    [myView addTarget:self action:@selector(rightButtonClick) forControlEvents:UIControlEventTouchUpInside];
    self.navigationItem.rightBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:myView];


    // 设置按钮文字颜色,需要先设置按钮才能生效
    self.navigationItem.leftBarButtonItem.tintColor = [UIColor redColor];
    self.navigationItem.rightBarButtonItem.tintColor = [UIColor greenColor];

}
</code></pre><h3 id="3-5-设置导航条底部线条的颜色"><a href="#3-5-设置导航条底部线条的颜色" class="headerlink" title="3.5 设置导航条底部线条的颜色"></a>3.5 设置导航条底部线条的颜色</h3><pre><code>@implementation UIImage (ColorImage)

// 颜色转图片
+ (UIImage *)imageWithColor:(UIColor *)color {
    CGRect rect = CGRectMake(0.0f, 0.0f, 1.0f, 1.0f);
    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetFillColorWithColor(context, [color CGColor]);
    CGContextFillRect(context, rect);
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return image;
}
</code></pre><p>设置导航栏底部线条颜色：</p>
<pre><code>[self.navigationController.navigationBar setBackgroundImage:[[UIImage alloc] init]  forBarPosition:UIBarPositionAny  barMetrics:UIBarMetricsDefault];
[self.navigationController.navigationBar setShadowImage:[UIImage imageWithColor:[UIColor redColor]]];
</code></pre><h3 id="3-6-隐藏导航条底部线条"><a href="#3-6-隐藏导航条底部线条" class="headerlink" title="3.6 隐藏导航条底部线条"></a>3.6 隐藏导航条底部线条</h3><p><strong>方法一：</strong></p>
<pre><code>- (UIImageView *)getNavBarBottomLine:(UIView *)view {
    if ([view isKindOfClass:UIImageView.class] &amp;&amp; view.bounds.size.height &lt;= 1.0) {
        return (UIImageView *)view;
    }
    for (UIView *subview in view.subviews) {
        UIImageView *imageView = [self getNavBarBottomLine:subview];
        if (imageView) {
            return imageView;
        }
    }
    return nil;
}

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[self getNavBarBottomLine:self.navigationController.navigationBar].hidden = YES;</div></pre></td></tr></table></figure>
</code></pre><p><strong>方法二：</strong></p>
<pre><code>[self.navigationController.navigationBar setBackgroundImage:[UIImage new] forBarMetrics:UIBarMetricsDefault];
self.navigationController.navigationBar.shadowImage = [UIImage new];
</code></pre><p>参考：<a href="http://www.cnblogs.com/wujy/p/5829039.html" target="_blank" rel="external">http://www.cnblogs.com/wujy/p/5829039.html</a></p>

  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2017/07/29/OC-组件化开发总结/" title="OC-组件化开发总结">OC-组件化开发总结</a></h2>
                <p class="excerpt">
                
                
1 组件化概念介绍1.1 概念将一个单一工程的项目, 分解成为各个独立的组件; 然后按照某种方式, 任意组织成一个拥有完整业务逻辑的工程
1.2 产生原因如果是单一工程, 业务线比较少, 人数比较少, 一般的开发模式没有任何问题,但是一旦项目发展慢慢庞大, 业务主线增多,开发人员增多, 就会暴露出
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-07-29T15:39:30.000Z" class="post-list__meta--date date">2017-07-29</time> &#8226; <span class="post-list__meta--tags tags">于&nbsp;
  <a class="tag-link" href="/tags/knowledge/">knowledge</a>
</span><a class="btn-border-small" href="/2017/07/29/OC-组件化开发总结/">继续阅读</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2017/07/16/OC:Swift-SQLite数据库/" title="OC/Swift-SQLite数据库">OC/Swift-SQLite数据库</a></h2>
                <p class="excerpt">
                
                Demo地址SQLite_OC&amp;amp;Swift_Demo地址

其中 SQLite_Swift_Demo是Swift3.0语言写的SQLite基础
SQLiteTool_OC_Demo是使用OC语言，利用runtime对SQLite进行的封装，面向模型类操作数据库


1. 数据库简介1.1 什
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-07-16T15:10:05.000Z" class="post-list__meta--date date">2017-07-16</time> &#8226; <span class="post-list__meta--tags tags">于&nbsp;
  <a class="tag-link" href="/tags/knowledge/">knowledge</a>
</span><a class="btn-border-small" href="/2017/07/16/OC:Swift-SQLite数据库/">继续阅读</a></div>
                       
            </div>
        
     
   
   
  
</section>

  
<section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = 'funkyhs'; 
      
  var disqus_identifier = '/2017/07/27/OC-导航控制器相关/';
  var disqus_title = 'OC-导航控制器相关';
  var disqus_url = 'https://funkyhs.github.io/2017/07/27/OC-导航控制器相关/';
  

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          //dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          dsq.src = 'https://a.disquscdn.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


            <footer class="footer">
    <span class="footer__copyright">
        本站点采用 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
    <span class="footer__copyright">
        &copy; 2017 - 本站使用 <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> 主题,
        由<a href="https://monniya.com ">@Monniya</a> 修改自 <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, 原创出自<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
    </span>
    
</footer>


        </div>
    </div>

     
    


    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
</body>
</html>
